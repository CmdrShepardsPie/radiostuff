"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const chalk_1 = __importDefault(require("chalk"));
let lastMessageInline = false;
let lastContext;
const bgColors = [
    // "bgBlack",
    "bgRed",
    "bgGreen",
    "bgYellow",
    "bgBlue",
    "bgMagenta",
    "bgCyan",
];
let lastColor = 0;
function createOut(context, color) {
    if (!color) {
        color = bgColors[lastColor];
        lastColor += 1;
        if (lastColor >= bgColors.length) {
            lastColor = 0;
        }
    }
    return { log: createLog(context, color), write: createWrite(context, color) };
}
exports.createOut = createOut;
function createLog(context, color) {
    if (!color) {
        color = bgColors[lastColor];
        lastColor += 1;
        if (lastColor >= bgColors.length) {
            lastColor = 0;
        }
    }
    // @ts-ignore
    const chalkColorFn = chalk_1.default[color];
    return (...msg) => {
        msg = msg.map(prepIfJson);
        // if (lastContext !== context) {
        //   createEmptyLine();
        // }
        if (lastMessageInline) {
            createEmptyLine();
        }
        const args = [chalkColorFn(`${context}:`), ...msg];
        console.log(...args);
        lastMessageInline = false;
        lastContext = context;
    };
}
exports.createLog = createLog;
function createWrite(context, color) {
    if (!color) {
        color = bgColors[lastColor];
        lastColor += 1;
        if (lastColor >= bgColors.length) {
            lastColor = 0;
        }
    }
    // @ts-ignore
    const chalkColorFn = chalk_1.default[color];
    return (...msg) => {
        if (!lastMessageInline) {
            process.stdout.write(chalkColorFn(`${context}:`) + " ");
        }
        if (lastMessageInline && lastContext !== context) {
            createEmptyLine();
            process.stdout.write(chalkColorFn(`${context}:`) + " ");
        }
        process.stdout.write(msg.join(" "));
        lastMessageInline = true;
        lastContext = context;
    };
}
exports.createWrite = createWrite;
function createThrowError(context) {
    const color = bgColors[lastColor];
    lastColor += 1;
    if (lastColor >= bgColors.length) {
        lastColor = 0;
    }
    // @ts-ignore
    const chalkColorFn = chalk_1.default[color];
    return (type, ...msg) => {
        console.log(chalkColorFn(`${context}:`), chalk_1.default.red(`${type} Error:`), ...msg);
        process.exit(1);
    };
}
exports.createThrowError = createThrowError;
function prepIfJson(t) {
    if (t instanceof Error) {
        return t;
    }
    if (typeof t === "string") {
        try {
            t = JSON.parse(t);
        }
        catch (e) {
            /* no empty */
        }
    }
    if (typeof t === "object") {
        try {
            t = JSON.stringify(t, null, 4);
            t = colorizeJsonString(t);
        }
        catch (e) {
            /* no empty */
        }
    }
    return t;
}
function colorizeJsonString(json) {
    // Strings
    json = json.replace(/(\s+)("[^"]*")(,?[\r\n])/gi, `$1${chalk_1.default.yellow("$2")}$3`);
    // booleans, numbers, etc.
    json = json.replace(/(\s+)([^"[{\]}][^[\]{}"\n\r,]*)(,?[\r\n])/gi, `$1${chalk_1.default.cyan("$2")}$3`);
    // Keys
    json = json.replace(/("[^"]*"):/gi, `${chalk_1.default.magenta("$1")}:`);
    return json;
}
function createEmptyLine() {
    console.log();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLWhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaGVscGVycy9sb2ctaGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLGtEQUFxQztBQUVyQyxJQUFJLGlCQUFpQixHQUFZLEtBQUssQ0FBQztBQUN2QyxJQUFJLFdBQW1CLENBQUM7QUFFeEIsTUFBTSxRQUFRLEdBQW9CO0lBQ2hDLGFBQWE7SUFDYixPQUFPO0lBQ1AsU0FBUztJQUNULFVBQVU7SUFDVixRQUFRO0lBQ1IsV0FBVztJQUNYLFFBQVE7Q0FVVCxDQUFDO0FBQ0YsSUFBSSxTQUFTLEdBQVcsQ0FBQyxDQUFDO0FBRTFCLFNBQWdCLFNBQVMsQ0FBQyxPQUFlLEVBQUUsS0FBbUI7SUFDNUQsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLEtBQUssR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUIsU0FBUyxJQUFJLENBQUMsQ0FBQztRQUNmLElBQUksU0FBUyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDaEMsU0FBUyxHQUFHLENBQUMsQ0FBQztTQUNmO0tBQ0Y7SUFDRCxPQUFPLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQztBQUNoRixDQUFDO0FBVEQsOEJBU0M7QUFFRCxTQUFnQixTQUFTLENBQUMsT0FBZSxFQUFFLEtBQW1CO0lBQzVELElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixLQUFLLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVCLFNBQVMsSUFBSSxDQUFDLENBQUM7UUFDZixJQUFJLFNBQVMsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ2hDLFNBQVMsR0FBRyxDQUFDLENBQUM7U0FDZjtLQUNGO0lBQ0QsYUFBYTtJQUNiLE1BQU0sWUFBWSxHQUFV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QyxDQUFDLENBQUM7U0FDbkI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLGNBQWM7U0FDZjtLQUNGO0lBQ0QsSUFBSSxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQUU7UUFDekIsSUFBSTtZQUNGLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDL0IsQ0FBQyxHQUFHLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixjQUFjO1NBQ2Y7S0FDRjtJQUNELE9BQU8sQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQUVELFNBQVMsa0JBQWtCLENBQUMsSUFBWTtJQUN0QyxVQUFVO0lBQ1YsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQ2pCLDRCQUE0QixFQUM1QixLQUFLLGVBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FDNUIsQ0FBQztJQUNGLDBCQUEwQjtJQUMxQixJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FDakIsNkNBQTZDLEVBQzdDLEtBQUssZUFBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUMxQixDQUFDO0lBQ0YsT0FBTztJQUNQLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxHQUFHLGVBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9ELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVELFNBQVMsZUFBZTtJQUN0QixPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFsaywgeyBDaGFsayB9IGZyb20gXCJjaGFsa1wiO1xuXG5sZXQgbGFzdE1lc3NhZ2VJbmxpbmU6IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBsYXN0Q29udGV4dDogc3RyaW5nO1xuXG5jb25zdCBiZ0NvbG9yczogKGtleW9mIENoYWxrKVtdID0gW1xuICAvLyBcImJnQmxhY2tcIixcbiAgXCJiZ1JlZFwiLFxuICBcImJnR3JlZW5cIixcbiAgXCJiZ1llbGxvd1wiLFxuICBcImJnQmx1ZVwiLFxuICBcImJnTWFnZW50YVwiLFxuICBcImJnQ3lhblwiLFxuICAvLyBcImJnV2hpdGVcIixcbiAgLy8gXCJiZ0JsYWNrQnJpZ2h0XCIsXG4gIC8vIFwiYmdSZWRCcmlnaHRcIixcbiAgLy8gXCJiZ0dyZWVuQnJpZ2h0XCIsXG4gIC8vIFwiYmdZZWxsb3dCcmlnaHRcIixcbiAgLy8gXCJiZ0JsdWVCcmlnaHRcIixcbiAgLy8gXCJiZ01hZ2VudGFCcmlnaHRcIixcbiAgLy8gXCJiZ0N5YW5CcmlnaHRcIixcbiAgLy8gXCJiZ1doaXRlQnJpZ2h0XCIsXG5dO1xubGV0IGxhc3RDb2xvcjogbnVtYmVyID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU91dChjb250ZXh0OiBzdHJpbmcsIGNvbG9yPzoga2V5b2YgQ2hhbGspOiB7IGxvZzogKC4uLm1zZzogYW55W10pID0+IHZvaWQ7IHdyaXRlOiAoLi4ubXNnOiBhbnlbXSkgPT4gdm9pZCB9IHtcbiAgaWYgKCFjb2xvcikge1xuICAgIGNvbG9yID0gYmdDb2xvcnNbbGFzdENvbG9yXTtcbiAgICBsYXN0Q29sb3IgKz0gMTtcbiAgICBpZiAobGFzdENvbG9yID49IGJnQ29sb3JzLmxlbmd0aCkge1xuICAgICAgbGFzdENvbG9yID0gMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgbG9nOiBjcmVhdGVMb2coY29udGV4dCwgY29sb3IpLCB3cml0ZTogY3JlYXRlV3JpdGUoY29udGV4dCwgY29sb3IpIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2coY29udGV4dDogc3RyaW5nLCBjb2xvcj86IGtleW9mIENoYWxrKTogKC4uLm1zZzogYW55W10pID0+IHZvaWQge1xuICBpZiAoIWNvbG9yKSB7XG4gICAgY29sb3IgPSBiZ0NvbG9yc1tsYXN0Q29sb3JdO1xuICAgIGxhc3RDb2xvciArPSAxO1xuICAgIGlmIChsYXN0Q29sb3IgPj0gYmdDb2xvcnMubGVuZ3RoKSB7XG4gICAgICBsYXN0Q29sb3IgPSAwO1xuICAgIH1cbiAgfVxuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IGNoYWxrQ29sb3JGbjogQ2hhbGsgPSBjaGFsa1tjb2xvcl07XG5cbiAgcmV0dXJuICguLi5tc2c6IGFueVtdKTogdm9pZCA9PiB7XG4gICAgbXNnID0gbXNnLm1hcChwcmVwSWZKc29uKTtcblxuICAgIC8vIGlmIChsYXN0Q29udGV4dCAhPT0gY29udGV4dCkge1xuICAgIC8vICAgY3JlYXRlRW1wdHlMaW5lKCk7XG4gICAgLy8gfVxuICAgIGlmIChsYXN0TWVzc2FnZUlubGluZSkge1xuICAgICAgY3JlYXRlRW1wdHlMaW5lKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYXJnczogYW55W10gPSBbY2hhbGtDb2xvckZuKGAke2NvbnRleHR9OmApLCAuLi5tc2ddO1xuXG4gICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgbGFzdE1lc3NhZ2VJbmxpbmUgPSBmYWxzZTtcbiAgICBsYXN0Q29udGV4dCA9IGNvbnRleHQ7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXcml0ZShjb250ZXh0OiBzdHJpbmcsIGNvbG9yPzoga2V5b2YgQ2hhbGspOiAoLi4ubXNnOiBhbnlbXSkgPT4gdm9pZCB7XG4gIGlmICghY29sb3IpIHtcbiAgICBjb2xvciA9IGJnQ29sb3JzW2xhc3RDb2xvcl07XG4gICAgbGFzdENvbG9yICs9IDE7XG4gICAgaWYgKGxhc3RDb2xvciA+PSBiZ0NvbG9ycy5sZW5ndGgpIHtcbiAgICAgIGxhc3RDb2xvciA9IDA7XG4gICAgfVxuICB9XG4gIC8vIEB0cy1pZ25vcmVcbiAgY29uc3QgY2hhbGtDb2xvckZuOiBDaGFsayA9IGNoYWxrW2NvbG9yXTtcblxuICByZXR1cm4gKC4uLm1zZzogYW55W10pOiB2b2lkID0+IHtcbiAgICBpZiAoIWxhc3RNZXNzYWdlSW5saW5lKSB7XG4gICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShjaGFsa0NvbG9yRm4oYCR7Y29udGV4dH06YCkgKyBcIiBcIik7XG4gICAgfVxuICAgIGlmIChsYXN0TWVzc2FnZUlubGluZSAmJiBsYXN0Q29udGV4dCAhPT0gY29udGV4dCkge1xuICAgICAgY3JlYXRlRW1wdHlMaW5lKCk7XG4gICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShjaGFsa0NvbG9yRm4oYCR7Y29udGV4dH06YCkgKyBcIiBcIik7XG4gICAgfVxuICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKG1zZy5qb2luKFwiIFwiKSk7XG4gICAgbGFzdE1lc3NhZ2VJbmxpbmUgPSB0cnVlO1xuICAgIGxhc3RDb250ZXh0ID0gY29udGV4dDtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRocm93RXJyb3IoY29udGV4dDogc3RyaW5nKTogKHR5cGU6IHN0cmluZywgLi4ubXNnOiBhbnlbXSkgPT4gdm9pZCB7XG4gIGNvbnN0IGNvbG9yOiBrZXlvZiBDaGFsayA9IGJnQ29sb3JzW2xhc3RDb2xvcl07XG4gIGxhc3RDb2xvciArPSAxO1xuICBpZiAobGFzdENvbG9yID49IGJnQ29sb3JzLmxlbmd0aCkge1xuICAgIGxhc3RDb2xvciA9IDA7XG4gIH1cbiAgLy8gQHRzLWlnbm9yZVxuICBjb25zdCBjaGFsa0NvbG9yRm46IENoYWxrID0gY2hhbGtbY29sb3JdO1xuXG4gIHJldHVybiAodHlwZTogc3RyaW5nLCAuLi5tc2c6IGFueVtdKTogdm9pZCA9PiB7XG4gICAgY29uc29sZS5sb2coY2hhbGtDb2xvckZuKGAke2NvbnRleHR9OmApLCBjaGFsay5yZWQoYCR7dHlwZX0gRXJyb3I6YCksIC4uLm1zZyk7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcmVwSWZKc29uKHQ6IGFueSk6IEVycm9yIHwgc3RyaW5nIHtcbiAgaWYgKHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiB0O1xuICB9XG4gIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRyeSB7XG4gICAgICB0ID0gSlNPTi5wYXJzZSh0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvKiBubyBlbXB0eSAqL1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHQgPT09IFwib2JqZWN0XCIpIHtcbiAgICB0cnkge1xuICAgICAgdCA9IEpTT04uc3RyaW5naWZ5KHQsIG51bGwsIDQpO1xuICAgICAgdCA9IGNvbG9yaXplSnNvblN0cmluZyh0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvKiBubyBlbXB0eSAqL1xuICAgIH1cbiAgfVxuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gY29sb3JpemVKc29uU3RyaW5nKGpzb246IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFN0cmluZ3NcbiAganNvbiA9IGpzb24ucmVwbGFjZShcbiAgICAvKFxccyspKFwiW15cIl0qXCIpKCw/W1xcclxcbl0pL2dpLFxuICAgIGAkMSR7Y2hhbGsueWVsbG93KFwiJDJcIil9JDNgLFxuICApO1xuICAvLyBib29sZWFucywgbnVtYmVycywgZXRjLlxuICBqc29uID0ganNvbi5yZXBsYWNlKFxuICAgIC8oXFxzKykoW15cIlt7XFxdfV1bXltcXF17fVwiXFxuXFxyLF0qKSgsP1tcXHJcXG5dKS9naSxcbiAgICBgJDEke2NoYWxrLmN5YW4oXCIkMlwiKX0kM2AsXG4gICk7XG4gIC8vIEtleXNcbiAganNvbiA9IGpzb24ucmVwbGFjZSgvKFwiW15cIl0qXCIpOi9naSwgYCR7Y2hhbGsubWFnZW50YShcIiQxXCIpfTpgKTtcbiAgcmV0dXJuIGpzb247XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVtcHR5TGluZSgpOiB2b2lkIHtcbiAgY29uc29sZS5sb2coKTtcbn1cbiJdfQ==